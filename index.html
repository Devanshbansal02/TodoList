<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="index.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.7/axios.min.js"></script>
    <script>
        function showin(){
            document.getElementById("signinhead").style.display = "block";
            document.getElementById("inputSinuser").style.display = "block";
            document.getElementById("inputSinpswd").style.display = "block";
            document.getElementById("signinbutton").style.display = "block";
            document.getElementById("needsignup").style.display = "block";
            document.getElementById("signuphead").style.display = "none";
            document.getElementById("inputSupuser").style.display = "none";
            document.getElementById("inputSuppswd").style.display = "none";
            document.getElementById("signupbutton").style.display = "none";
            document.getElementById("needsignin").style.display = "none";
        }
        function showup(){

            document.getElementById("signuphead").style.display = "block";
            document.getElementById("inputSupuser").style.display = "block";
            document.getElementById("inputSuppswd").style.display = "block";
            document.getElementById("signupbutton").style.display = "block";
            document.getElementById("needsignin").style.display = "flex";
            document.getElementById("signinhead").style.display = "none";
            document.getElementById("inputSinuser").style.display = "none";
            document.getElementById("inputSinpswd").style.display = "none";
            document.getElementById("signinbutton").style.display = "none";
            document.getElementById("needsignup").style.display = "none";
        }
        async function signup() {
            const uname = document.querySelector("#inputSupuser").value;
            const pswd = document.querySelector("#inputSuppswd").value;
            const response = await axios.post("https://todolist-o6ee.onrender.com/signup", {
                username: uname,
                password: pswd
            })
            alert("Signed Up successfully");
        }
        async function signin() {
            const uname = document.querySelector("#inputSinuser").value;
            const pswd = document.querySelector("#inputSinpswd").value;
            const response = await axios.post("https://todolist-o6ee.onrender.com/signin", {
                username: uname,
                password: pswd
            })
            localStorage.setItem("token", response.data.token);
            window.location.href = "Signin-signup/index.html";
            alert("Signed in successfully");
        }
    </script>
</head>
<body>
    <div class = "Main">
        <div class="input">
            <h1 id="signinhead">Sign in</h1>
            <input type="text" placeholder="Enter Username" id="inputSinuser">
            <input type="password" placeholder="Enter Password" id="inputSinpswd">
            <button onclick="signin()" id="signinbutton">Sign in</button>
            <h1 id="signuphead">Sign Up</h1>
            <input type="text" placeholder="Enter Username" id="inputSupuser">
            <input type="password" placeholder="Enter Password" id="inputSuppswd">
            <button onclick="signup()" id="signupbutton">Sign up</button>
            <div id="needsignin"><span>Have an account?</span><button class="non" onclick="showin() "><u>signin</u></button></div>
            <div id="needsignup"><span>Don't have an account?</span><button class="non" onclick="showup()"><u>signup</u></button></div>
        </div>
    </div>
    <!-- <script src="index.js"></script> -->
</body>
</html> 
